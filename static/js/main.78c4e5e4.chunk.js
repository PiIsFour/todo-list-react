(this["webpackJsonptodo-list-react"]=this["webpackJsonptodo-list-react"]||[]).push([[0],{47:function(e,t,n){e.exports=n(65)},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(24),i=n.n(a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c,u=n(6),d=n(73),l=n(42),s=(n(57),n(58),n(75)),f=(n(59),n(12)),m=(n(60),function(e){var t=e.lable,n=e.onAdd,a=Object(r.useState)(""),i=Object(f.a)(a,2),c=i[0],u=i[1];return o.a.createElement("form",{className:"add-input",onSubmit:function(e){e.preventDefault(),n(c),u("")}},o.a.createElement("input",{type:"text",placeholder:t,"aria-label":t,value:c,onChange:function(e){u(e.target.value)}}),o.a.createElement("button",{"aria-label":"create new list"},"+"))}),p=n(25),v=Object.freeze({addList:"ADD_LIST",selectList:"SELECT_LIST",deleteList:"DELETE_LIST",addTodo:"ADD_TODO",checkTodo:"CHECK_TODO",clearCompletedTodos:"CLEAR_COMPLETED_TODOS",reorderTodo:"REORDER_TODO",moveTodoToList:"MOVE_TODO_TO_LIST",reorderTodoList:"REORDER_TODO_LIST"}),h=(c=p.uuid,function(e){return function(e,t){return{type:v.addList,name:e,id:t}}(e,c())}),E=function(e,t){return{type:v.selectList,id:e,name:t}},g=n(76),L=n(77),b=n(79),O=n(68),T=Object.freeze({todoItem:"TODO_ITEM",todoList:"TODO_LIST"}),y=function(e,t){return{type:v.moveTodoToList,item:e,toList:t}},D=function(e,t){return{type:v.reorderTodoList,list:e,to:t}},S=function(e){var t=e.id,n=e.name,r=e.dragRef,a=e.isSelected,i=e.onSelect;return o.a.createElement("li",{className:a?"active":"",ref:r,onClick:function(){return i(t,n)}},n)},k=function(e){var t=e.id,n=e.name,a=e.isSelected,i=e.onSelect,c=Object(u.b)(),d=b.a(c,y),l=b.a(c,D),s=Object(r.useRef)(),m=Object(g.a)({item:{type:T.todoList,id:t,name:n},collect:function(e){return{isDragging:!!e.isDragging()}}}),p=Object(f.a)(m,2),v=p[0].isDragging,h=p[1],E=Object(L.a)({accept:[T.todoItem,T.todoList],drop:O.a((function(e){return e.type===T.todoItem}),(function(e){return d(e,{id:t,name:n})})),hover:O.a((function(e){return e.type===T.todoList&&!v}),(function(e){return l(e,{id:t,name:n})}))});return h((0,Object(f.a)(E,2)[1])(s)),o.a.createElement(S,{id:t,name:n,dragRef:s,isSelected:a,onSelect:i})},j=function(e){var t=e.todoLists,n=e.selectedListId,r=e.dispatch,a=function(e,t){return r(E(e,t))};return o.a.createElement("div",{className:"lists-overview"},o.a.createElement("h2",null,"My lists"),o.a.createElement("ul",null,t.map((function(e){var t=e.name,r=e.id;return o.a.createElement(k,{id:r,key:r,name:t,isSelected:r===n,onSelect:a})}))),o.a.createElement(m,{lable:"new list name",onAdd:function(e){return r(function(e){return function(t){var n=h(e);t(n),t(E(n.id,e))}}(e))}}))},w=s.a("todoLists"),I=function(e){return e.selectedList.id},C=function(){var e=Object(u.c)(w),t=Object(u.c)(I),n=Object(u.b)();return o.a.createElement(j,{todoLists:e,selectedListId:t,dispatch:n})},R=(n(61),n(69)),_=function(e){return function(t,n){return function(e,t,n){return{type:v.addTodo,name:e,id:n,toList:R.a(["id","name"],t)}}(t,n,e())}}(p.uuid),N=(n(62),function(e){var t=e.id,n=e.name,r=e.done,a=e.dragRef,i=e.isDragging,c=e.dispatchCheckTodo;return o.a.createElement("div",{className:"todo",ref:a,style:{opacity:i?0:1}},o.a.createElement("input",{type:"checkbox",id:t,checked:r,onChange:function(e){return c(t,n,e.target.checked)}}),o.a.createElement("label",{htmlFor:t},o.a.createElement("span",{className:"custom-checkbox"}),n))}),A=function(e){var t=e.id,n=e.name,a=e.done,i=Object(r.useRef)(),c=Object(g.a)({item:{type:T.todoItem,id:t,name:n},collect:function(e){return{isDragging:!!e.isDragging()}}}),d=Object(f.a)(c,2),l=d[0].isDragging,s=d[1],m=Object(L.a)({accept:T.todoItem,hover:function(e){return l?null:E(e,{id:t,name:n})}}),p=Object(f.a)(m,2)[1],h=Object(u.b)(),E=function(e,t){return h(function(e,t){return{type:v.reorderTodo,item:e,to:t}}(e,t))};return s(p(i)),o.a.createElement(N,{id:t,name:n,done:a,dragRef:i,isDragging:l,dispatchCheckTodo:function(e,t,n){return h(function(e,t,n){return{type:v.checkTodo,id:e,name:t,done:n}}(e,t,n))}})},M=function(e){var t=e.selectedList,n=e.dispatch;if(!t)return null;var r=t.id,a=t.name,i=t.todos,c=i.filter((function(e){return!e.done})).length;return o.a.createElement("section",{className:"todo-list"},o.a.createElement("header",null,o.a.createElement("h2",null,a),o.a.createElement("p",null,"".concat(c," ").concat(1===c?"task":"tasks"," remaining"))),o.a.createElement("main",null,o.a.createElement("div",{className:"todos"},i.map((function(e){var t=e.id,n=e.name,r=e.done;return o.a.createElement(A,{id:t,key:t,name:n,done:r})}))),o.a.createElement(m,{lable:"new task name",onAdd:function(e){return n(_(e,t))}})),o.a.createElement("footer",null,o.a.createElement("button",{onClick:function(){return n((e=t,{type:v.clearCompletedTodos,fromList:R.a(["id","name"],e)}));var e}},"Clear completed tasks"),o.a.createElement("button",{onClick:function(){return n(function(e,t){return{type:v.deleteList,id:e,name:t}}(r,a))}},"Delete list")))},W=function(e){var t=e.todoLists,n=e.selectedList;return t.find((function(e){return e.id===n.id}))},x=function(){var e=Object(u.c)(W),t=Object(u.b)();return o.a.createElement(M,{selectedList:e,dispatch:t})};var J,z=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",{className:"App-header"},"Stuff I need to do"),o.a.createElement(C,null),o.a.createElement(x,null),o.a.createElement("footer",null,"This project was inspired by Kevin Powell's ",o.a.createElement("a",{href:"https://github.com/kevin-powell/todo-list-collab"},"todo-list-collab")))},B=n(10),K=n(39),P=n(40),F=function(e){var t=e.createStore,n=e.applyMiddleware,r=e.thunk,o=e.composeWithDevTools;return function(e){var a=e.rootReducer,i=e.preloadedState;return t(a,i,o({})(n(r)))}}({createStore:B.createStore,applyMiddleware:B.applyMiddleware,thunk:K.a,composeWithDevTools:P.composeWithDevTools}),H=n(27),V=n(41),$=n(43),q=n(44),G=n(78),Q=function(e){return function(t){return $.a(t,e)?e:t}},U=function(e){return function(t){return q.a(e,Q(t))(t)}},X=function(e,t){return U(G.a((function(n){return e(n)?t(n):n})))},Y=function(e,t){return U((function(n){return Object(V.a)({},n,Object(H.a)({},e,t(n[e])))}))},Z=n(80),ee=n(45),te=n(70),ne=n(81),re=n(82),oe=n(83),ae=n(71),ie=n(74),ce=n(72),ue=[],de=function(e,t){return Z.a({id:e,name:t,todos:[]})},le=function(e){return ee.a((function(t){return t.id!==e}))},se=function(e,t){return Y("todos",function(e,t){return Z.a({id:e,name:t,done:!1})}(e,t))},fe=function(e,t,n){return X((function(t){return t.id===e}),se(t,n))},me=function(e,t){return Y("todos",function(e,t){return X((function(t){return t.id===e}),te.a("done",t))}(e,t))},pe=function(e,t){return U(G.a(me(e,t)))},ve=ee.a((function(e){return!e.done})),he=Y("todos",ve),Ee=function(e){return X((function(t){return t.id===e}),he)},ge=function(e,t){return X((function(t){return ne.a((function(t){return t.id===e.id}),t.todos)}),Y("todos",(function(n){var r=re.a((function(e){return e.id===t.id}),n),o=oe.a((function(t){return t.id===e.id}),n);return q.a(ae.a(n),ie.a([o]),ce.a(r,o))()})))},Le=function(e,t){return function(n){var r,o=(r=e.id,q.a(G.a(q.a(s.a("todos"),oe.a((function(e){return e.id===r})))),oe.a((function(e){return!!e}))))(n);return o?q.a(ae.a(n),G.a(function(e){return Y("todos",ee.a((function(t){return t.id!==e.id})))}(o)),function(e,t){return X((function(e){return e.id===t}),Y("todos",Z.a(e)))}(o,t.id))():n}},be=function(e,t){return function(n){var r=re.a((function(e){return e.id===t.id}),n),o=oe.a((function(t){return t.id===e.id}),n);return q.a(ae.a(n),ie.a([o]),ce.a(r,o))()}},Oe={id:void 0,name:void 0},Te=F({rootReducer:(J={todoLists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.todoLists,r=void 0===n?ue:n,o=t.type,a=t.id,i=t.name,c=t.toList,u=t.done,d=t.fromList,l=t.item,s=t.to,f=t.list;switch(o){case v.addList:return de(a,i)(r);case v.deleteList:return le(a)(r);case v.addTodo:return fe(c.id,a,i)(r);case v.checkTodo:return pe(a,u)(r);case v.clearCompletedTodos:return Ee(d.id)(r);case v.reorderTodo:return ge(l,s)(r);case v.moveTodoToList:return Le(l,c)(r);case v.reorderTodoList:return be(f,s)(r);default:return r}},selectedList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.selectedList,r=void 0===n?Oe:n,o=t.type,a=t.id,i=t.name;switch(o){case v.selectList:return{id:a,name:i};case v.deleteList:return Oe;default:return r}}},function(e,t){return q.a(G.a((function(n){return n(e,t)})),Q(e))(J)}),preloadedState:function(e,t){var n=e.getItem(t);if(n)try{return JSON.parse(n)}catch(r){return}}(window.localStorage,"todo list")});Te.subscribe(function(e,t,n){return function(){e.setItem(t,JSON.stringify(n.getState()))}}(window.localStorage,"todo list",Te)),i.a.render(o.a.createElement(d.a,{backend:l.a},o.a.createElement(u.a,{store:Te},o.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.78c4e5e4.chunk.js.map